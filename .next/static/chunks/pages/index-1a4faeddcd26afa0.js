(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6209)}])},7150:function(e,n,t){"use strict";t.d(n,{A:function(){return a}}),t(9738).config();let a="https://9022-195-139-182-94.ngrok-free.app"},6209:function(e,n,t){"use strict";t.r(n);var a=t(5893),s=t(7294),r=t(6069),o=t.n(r),c=t(9332),l=t(1986),i=t(9466),d=t(7150);n.default=()=>{let[e,n]=(0,s.useState)(null),t=(0,c.useRouter)();return(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(d.A,"/api/currentMeeting/agenda"),{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","ngrok-skip-browser-warning":"y"},credentials:"include"});if(e.ok){let t=await e.json();n(t)}else 401===e.status?t.push("/login"):console.error("Failed to fetch agenda")}catch(e){console.error("Failed to fetch agenda:",e)}})()},[]),(0,a.jsxs)("div",{className:o().agendaContainer,children:[(0,a.jsx)("h1",{className:o().agendaHeader,children:"Current Meeting Agenda"}),e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{agenda:e,setAgenda:n}),(0,a.jsx)(i.default,{agenda:e})]}):(0,a.jsx)("p",{children:"Loading agenda..."})]})}},1986:function(e,n,t){"use strict";t.r(n);var a=t(5893),s=t(6069),r=t.n(s),o=t(1163);n.default=e=>{let{agenda:n,setAgenda:t}=e,s=(0,o.useRouter)(),c=async e=>{try{let n=await fetch("http://localhost:8081/api/currentMeeting/reserveRole/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(n.ok){console.log("Role ".concat(e," reserved successfully"));let a=await n.json();t(a)}else 401==n.status?s.push("/login"):console.error("Failed to reserve role ".concat(e))}catch(n){console.error("Failed to reserve role ".concat(e,":"),n)}};return(0,a.jsx)("div",{className:r().agendaGrid,children:null==n?void 0:n.roles.map(e=>(0,a.jsxs)("div",{className:r().roleItem,children:[(0,a.jsx)("div",{className:r().roleName,children:e.roleName}),e.userName?(0,a.jsx)("div",{className:"".concat(r().userName," ").concat(r().assignedRole),children:e.userName}):(0,a.jsx)("div",{className:"".concat(r().userName," ").concat(r().unassignedRole),children:"Unassigned"}),!e.userName&&(0,a.jsx)("button",{className:r().button,onClick:()=>{c(e.roleId)},children:"Take Role"})]},e.roleId))})}},1163:function(e,n,t){e.exports=t(9090)},6647:function(){}},function(e){e.O(0,[714,804,466,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);