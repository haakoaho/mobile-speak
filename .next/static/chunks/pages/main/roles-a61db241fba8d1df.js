(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{313:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main/roles",function(){return r(4721)}])},4721:function(e,n,r){"use strict";r.r(n);var t=r(7568),o=r(7582),s=r(5893),a=r(1673),c=r.n(a),u=r(1163);n.default=function(e){var n=e.agenda,r=e.setAgenda,a=(0,u.useRouter)(),i=function(){var e=(0,t.Z)((function(e){var n,t,s;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,fetch("http://localhost:8081/api/currentMeeting/reserveRole/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"})];case 1:return(n=o.sent()).ok?(console.log("Role ".concat(e," reserved successfully")),[4,n.json()]):[3,3];case 2:return t=o.sent(),r(t),[3,4];case 3:401==n.status?a.push("/login"):console.error("Failed to reserve role ".concat(e)),o.label=4;case 4:return[3,6];case 5:return s=o.sent(),console.error("Failed to reserve role ".concat(e,":"),s),[3,6];case 6:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,s.jsx)("div",{className:c().agendaGrid,children:null===n||void 0===n?void 0:n.roles.map((function(e){return(0,s.jsxs)("div",{className:c().roleItem,children:[(0,s.jsx)("div",{className:c().roleName,children:e.roleName}),e.userName?(0,s.jsx)("div",{className:"".concat(c().userName," ").concat(c().assignedRole),children:e.userName}):(0,s.jsx)("div",{className:"".concat(c().userName," ").concat(c().unassignedRole),children:"Unassigned"}),!e.userName&&(0,s.jsx)("button",{className:c().button,onClick:function(){i(e.roleId)},children:"Take Role"})]},e.roleId)}))})}},1673:function(e){e.exports={button:"Home_button__hQmsM",roleItem:"Home_roleItem__WLyd6",agendaContainer:"Home_agendaContainer__R8jA3",roleName:"Home_roleName__0F6cM",userName:"Home_userName__ulQc5",unassignedRole:"Home_unassignedRole__eypl2"}},1163:function(e,n,r){e.exports=r(387)},7568:function(e,n,r){"use strict";function t(e,n,r,t,o,s,a){try{var c=e[s](a),u=c.value}catch(i){return void r(i)}c.done?n(u):Promise.resolve(u).then(t,o)}function o(e){return function(){var n=this,r=arguments;return new Promise((function(o,s){var a=e.apply(n,r);function c(e){t(a,o,s,c,u,"next",e)}function u(e){t(a,o,s,c,u,"throw",e)}c(void 0)}))}}r.d(n,{Z:function(){return o}})}},function(e){e.O(0,[774,888,179],(function(){return n=313,e(e.s=n);var n}));var n=e.O();_N_E=n}]);