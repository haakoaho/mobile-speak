(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{313:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main/roles",function(){return n(1986)}])},1986:function(e,o,n){"use strict";n.r(o);var s=n(5893),a=n(6069),t=n.n(a),r=n(1163);o.default=e=>{let{agenda:o,setAgenda:n}=e,a=(0,r.useRouter)(),l=async e=>{try{let o=await fetch("http://localhost:8081/api/currentMeeting/reserveRole/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(o.ok){console.log("Role ".concat(e," reserved successfully"));let s=await o.json();n(s)}else 401==o.status?a.push("/login"):console.error("Failed to reserve role ".concat(e))}catch(o){console.error("Failed to reserve role ".concat(e,":"),o)}};return(0,s.jsx)("div",{className:t().agendaGrid,children:null==o?void 0:o.roles.map(e=>(0,s.jsxs)("div",{className:t().roleItem,children:[(0,s.jsx)("div",{className:t().roleName,children:e.roleName}),e.userName?(0,s.jsx)("div",{className:"".concat(t().userName," ").concat(t().assignedRole),children:e.userName}):(0,s.jsx)("div",{className:"".concat(t().userName," ").concat(t().unassignedRole),children:"Unassigned"}),!e.userName&&(0,s.jsx)("button",{className:t().button,onClick:()=>{l(e.roleId)},children:"Take Role"})]},e.roleId))})}},6069:function(e){e.exports={button:"Home_button__Toauu",roleItem:"Home_roleItem__r44Uv",agendaContainer:"Home_agendaContainer__AvX1E",roleName:"Home_roleName__PbL1i",userName:"Home_userName__ZmJ9C",unassignedRole:"Home_unassignedRole__gRPKo"}},1163:function(e,o,n){e.exports=n(9090)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=313)}),_N_E=e.O()}]);