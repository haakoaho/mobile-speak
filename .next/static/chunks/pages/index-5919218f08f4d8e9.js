(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5075)}])},1382:function(e,n,t){"use strict";t.d(n,{A:function(){return r}});var r="https://9022-195-139-182-94.ngrok-free.app"},5075:function(e,n,t){"use strict";t.r(n);var r=t(7568),s=t(7582),a=t(5893),c=t(7294),o=t(1673),u=t.n(o),i=t(4721),l=t(4838),d=t(1382),f=t(1163);n.default=function(){var e=(0,c.useState)(null),n=e[0],t=e[1],o=(0,f.useRouter)();return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,r;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,fetch("".concat(d.A,"/api/currentMeeting/agenda"),{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","ngrok-skip-browser-warning":"y"},credentials:"include"})];case 1:return(e=s.sent()).ok?[4,e.json()]:[3,3];case 2:return n=s.sent(),t(n),[3,4];case 3:401===e.status?o.push("/login"):console.error("Failed to fetch agenda"),s.label=4;case 4:return[3,6];case 5:return r=s.sent(),console.error("Failed to fetch agenda:",r),[3,6];case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.jsxs)("div",{className:u().agendaContainer,children:[(0,a.jsx)("h1",{className:u().agendaHeader,children:"Current Meeting Agenda"}),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{agenda:n,setAgenda:t}),(0,a.jsx)(l.default,{agenda:n})]}):(0,a.jsx)("p",{children:"Loading agenda..."})]})}},4721:function(e,n,t){"use strict";t.r(n);var r=t(7568),s=t(7582),a=t(5893),c=t(1673),o=t.n(c),u=t(1163);n.default=function(e){var n=e.agenda,t=e.setAgenda,c=(0,u.useRouter)(),i=function(){var e=(0,r.Z)((function(e){var n,r,a;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,fetch("http://localhost:8081/api/currentMeeting/reserveRole/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"})];case 1:return(n=s.sent()).ok?(console.log("Role ".concat(e," reserved successfully")),[4,n.json()]):[3,3];case 2:return r=s.sent(),t(r),[3,4];case 3:401==n.status?c.push("/login"):console.error("Failed to reserve role ".concat(e)),s.label=4;case 4:return[3,6];case 5:return a=s.sent(),console.error("Failed to reserve role ".concat(e,":"),a),[3,6];case 6:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,a.jsx)("div",{className:o().agendaGrid,children:null===n||void 0===n?void 0:n.roles.map((function(e){return(0,a.jsxs)("div",{className:o().roleItem,children:[(0,a.jsx)("div",{className:o().roleName,children:e.roleName}),e.userName?(0,a.jsx)("div",{className:"".concat(o().userName," ").concat(o().assignedRole),children:e.userName}):(0,a.jsx)("div",{className:"".concat(o().userName," ").concat(o().unassignedRole),children:"Unassigned"}),!e.userName&&(0,a.jsx)("button",{className:o().button,onClick:function(){i(e.roleId)},children:"Take Role"})]},e.roleId)}))})}},1163:function(e,n,t){e.exports=t(387)},7568:function(e,n,t){"use strict";function r(e,n,t,r,s,a,c){try{var o=e[a](c),u=o.value}catch(i){return void t(i)}o.done?n(u):Promise.resolve(u).then(r,s)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(s,a){var c=e.apply(n,t);function o(e){r(c,s,a,o,u,"next",e)}function u(e){r(c,s,a,o,u,"throw",e)}o(void 0)}))}}t.d(n,{Z:function(){return s}})}},function(e){e.O(0,[774,838,888,179],(function(){return n=8312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);