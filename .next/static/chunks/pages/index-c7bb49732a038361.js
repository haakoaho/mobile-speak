(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6209)}])},6209:function(e,a,t){"use strict";t.r(a);var n=t(5893),s=t(7294),o=t(6069),r=t.n(o),c=t(9332),l=t(1986),i=t(9466);a.default=()=>{let[e,a]=(0,s.useState)(null),t=(0,c.useRouter)();return(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("http://localhost:8081/api/currentMeeting/agenda",{method:"GET",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(e.ok){let t=await e.json();a(t)}else 401===e.status?t.push("/login"):console.error("Failed to fetch agenda")}catch(e){console.error("Failed to fetch agenda:",e)}})()},[]),(0,n.jsxs)("div",{className:r().agendaContainer,children:[(0,n.jsx)("h1",{className:r().agendaHeader,children:"Current Meeting Agenda"}),e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.default,{agenda:e,setAgenda:a}),(0,n.jsx)(i.default,{agenda:e})]}):(0,n.jsx)("p",{children:"Loading agenda..."})]})}},1986:function(e,a,t){"use strict";t.r(a);var n=t(5893),s=t(6069),o=t.n(s),r=t(1163);a.default=e=>{let{agenda:a,setAgenda:t}=e,s=(0,r.useRouter)(),c=async e=>{try{let a=await fetch("http://localhost:8081/api/currentMeeting/reserveRole/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(a.ok){console.log("Role ".concat(e," reserved successfully"));let n=await a.json();t(n)}else 401==a.status?s.push("/login"):console.error("Failed to reserve role ".concat(e))}catch(a){console.error("Failed to reserve role ".concat(e,":"),a)}};return(0,n.jsx)("div",{className:o().agendaGrid,children:null==a?void 0:a.roles.map(e=>(0,n.jsxs)("div",{className:o().roleItem,children:[(0,n.jsx)("div",{className:o().roleName,children:e.roleName}),e.userName?(0,n.jsx)("div",{className:"".concat(o().userName," ").concat(o().assignedRole),children:e.userName}):(0,n.jsx)("div",{className:"".concat(o().userName," ").concat(o().unassignedRole),children:"Unassigned"}),!e.userName&&(0,n.jsx)("button",{className:o().button,onClick:()=>{c(e.roleId)},children:"Take Role"})]},e.roleId))})}},1163:function(e,a,t){e.exports=t(9090)}},function(e){e.O(0,[332,466,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);